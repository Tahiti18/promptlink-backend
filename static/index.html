async function startSession() {
    const a = document.getElementById('agent-a-select').value;
    const b = document.getElementById('agent-b-select').value;
    const prompt = document.getElementById('initial-prompt').value.trim();
    
    if (!prompt) return alert('Enter a prompt.');
    if (!a || !b) return alert('Select both agents.');

    // Clear previous content
    document.getElementById('agent-a-content').textContent = 'Thinking...';
    document.getElementById('agent-b-content').textContent = 'Waiting...';

    try {
        const res = await fetch('/api/chat', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ agents: [a, b], message: prompt })
        });
        
        const data = await res.json();
        console.log('Response:', data);
        
        // Update the agent cards with responses
        if (data.response_a) {
            document.getElementById('agent-a-content').textContent = data.response_a;
        }
        if (data.response_b) {
            document.getElementById('agent-b-content').textContent = data.response_b;
        }
        
        // Update status
        document.getElementById('session-status').textContent = 'Active';
        
    } catch (e) {
        console.error('Error:', e);
        alert('Session failed: ' + e.message);
    }
}










